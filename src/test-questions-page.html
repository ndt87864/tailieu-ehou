<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trang Test C√¢u H·ªèi - Tailieu Extension</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            margin: 20px;
            background: #f5f5f5;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        h1 {
            color: #333;
            text-align: center;
            margin-bottom: 30px;
        }
        
        .question {
            margin: 20px 0;
            padding: 15px;
            background: #f8f9fa;
            border-left: 4px solid #007bff;
            border-radius: 5px;
        }
        
        .question-text {
            font-weight: bold;
            margin-bottom: 10px;
            color: #333;
        }
        
        .answer-options {
            margin-left: 20px;
        }
        
        .answer-option {
            margin: 5px 0;
            padding: 8px;
            background: white;
            border-radius: 3px;
            border: 1px solid #ddd;
        }
        
        .note {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            color: #856404;
            padding: 15px;
            border-radius: 5px;
            margin: 20px 0;
        }
        
        .instructions {
            background: #d1ecf1;
            border: 1px solid #bee5eb;
            color: #0c5460;
            padding: 15px;
            border-radius: 5px;
            margin: 20px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üß™ Test Trang C√¢u H·ªèi - Tailieu Extension</h1>
        
        <div class="instructions">
            <h3>üìã H∆∞·ªõng d·∫´n test:</h3>
            <ol>
                <li>M·ªü Chrome Extension Tailieu Questions</li>
                <li>Ch·ªçn danh m·ª•c v√† t√†i li·ªáu</li>
                <li>Nh·∫•n "T·∫£i c√¢u h·ªèi"</li>
                <li>Nh·∫•n "üîç So s√°nh v·ªõi trang" ƒë·ªÉ highlight c√¢u h·ªèi tr√πng kh·ªõp</li>
                <li>Quan s√°t c√°c c√¢u h·ªèi ƒë∆∞·ª£c highlight m√†u v√†ng v√† ƒë√°p √°n ƒë√∫ng m√†u xanh</li>
            </ol>
        </div>
        
        <div class="note">
            <strong>‚ö†Ô∏è L∆∞u √Ω:</strong> C√°c c√¢u h·ªèi d∆∞·ªõi ƒë√¢y ƒë∆∞·ª£c thi·∫øt k·∫ø ƒë·ªÉ test ch·ª©c nƒÉng so s√°nh. 
            M·ªôt s·ªë c√¢u h·ªèi c√≥ th·ªÉ tr√πng v·ªõi database Firestore.
        </div>
        
        <!-- Sample questions that might match with database -->
        <div class="question">
            <div class="question-text">C√¢u 1. Kinh t·∫ø vi m√¥</div>
            <div class="answer-options">
                <div class="answer-option">A. L√† ngh·ªÅ kinh doanh</div>
                <div class="answer-option">B. L√† khoa h·ªçc v·ªÅ qu·∫£n l√Ω t√†i ch√≠nh</div>
                <div class="answer-option">C. Kinh t·∫ø vi m√¥</div>
                <div class="answer-option">D. T·∫•t c·∫£ ƒë·ªÅu ƒë√∫ng</div>
            </div>
        </div>
        
        <div class="question">
            <div class="question-text">C√¢u 2. Nguy√™n l√Ω k·∫ø to√°n</div>
            <div class="answer-options">
                <div class="answer-option">A. T√†i s·∫£n c·ªë ƒë·ªãnh v√† t√†i s·∫£n l∆∞u ƒë·ªông</div>
                <div class="answer-option">B. Nguy√™n l√Ω k·∫ø to√°n</div>
                <div class="answer-option">C. T√†i s·∫£n ng·∫Øn h·∫°n v√† d√†i h·∫°n</div>
                <div class="answer-option">D. C·∫£ A v√† B ƒë·ªÅu ƒë√∫ng</div>
            </div>
        </div>
        
        <div class="question">
            <div class="question-text">C√¢u 3. Nguy√™n t·∫Øc c∆° b·∫£n c·ªßa k·∫ø to√°n bao g·ªìm?</div>
            <div class="answer-options">
                <div class="answer-option">A. T√≠nh kh√°ch quan v√† trung th·ª±c</div>
                <div class="answer-option">B. T√≠nh k·ªãp th·ªùi v√† ƒë·∫ßy ƒë·ªß</div>
                <div class="answer-option">C. T√≠nh so s√°nh ƒë∆∞·ª£c</div>
                <div class="answer-option">D. T·∫•t c·∫£ c√°c ƒë√°p √°n tr√™n</div>
            </div>
        </div>
        
        <div class="question">
            <div class="question-text">C√¢u 4. B√°o c√°o t√†i ch√≠nh ch√≠nh g·ªìm nh·ªØng lo·∫°i n√†o?</div>
            <div class="answer-options">
                <div class="answer-option">A. B·∫£ng c√¢n ƒë·ªëi k·∫ø to√°n</div>
                <div class="answer-option">B. B√°o c√°o k·∫øt qu·∫£ kinh doanh</div>
                <div class="answer-option">C. B√°o c√°o l∆∞u chuy·ªÉn ti·ªÅn t·ªá</div>
                <div class="answer-option">D. C·∫£ A, B, C ƒë·ªÅu ƒë√∫ng</div>
            </div>
        </div>
        
        <div class="question">
            <div class="question-text">C√¢u 5. Ph∆∞∆°ng ph√°p kh·∫•u hao t√†i s·∫£n c·ªë ƒë·ªãnh c√≥ m·∫•y lo·∫°i?</div>
            <div class="answer-options">
                <div class="answer-option">A. Kh·∫•u hao ƒë∆∞·ªùng th·∫≥ng</div>
                <div class="answer-option">B. Kh·∫•u hao theo s·ªë d∆∞ gi·∫£m d·∫ßn</div>
                <div class="answer-option">C. Kh·∫•u hao theo s·∫£n l∆∞·ª£ng</div>
                <div class="answer-option">D. C√≥ c·∫£ 3 ph∆∞∆°ng ph√°p tr√™n</div>
            </div>
        </div>
        
        <!-- Some generic questions that probably won't match -->
        <div class="question">
            <div class="question-text">C√¢u 6. Test question that probably won't match v·ªõi database?</div>
            <div class="answer-options">
                <div class="answer-option">A. Option A</div>
                <div class="answer-option">B. Option B</div>
                <div class="answer-option">C. Option C</div>
                <div class="answer-option">D. None of the above</div>
            </div>
        </div>
        
        <div class="question">
            <div class="question-text">B√†i 7: Lu·∫≠t kinh t·∫ø ƒëi·ªÅu ch·ªânh nh·ªØng quan h·ªá n√†o?</div>
            <div class="answer-options">
                <div class="answer-option">A. Quan h·ªá qu·∫£n l√Ω nh√† n∆∞·ªõc v·ªÅ kinh t·∫ø</div>
                <div class="answer-option">B. Quan h·ªá d√¢n s·ª± trong kinh doanh</div>
                <div class="answer-option">C. Quan h·ªá lao ƒë·ªông</div>
                <div class="answer-option">D. T·∫•t c·∫£ c√°c quan h·ªá tr√™n</div>
            </div>
        </div>
        
        <div class="note">
            <strong>üéØ K·∫øt qu·∫£ mong ƒë·ª£i:</strong>
            <ul>
                <li>C√¢u h·ªèi tr√πng kh·ªõp s·∫Ω ƒë∆∞·ª£c highlight m√†u v√†ng/cam</li>
                <li>ƒê√°p √°n ƒë√∫ng s·∫Ω ƒë∆∞·ª£c highlight m√†u xanh v·ªõi d·∫•u ‚úì</li>
                <li>Hover v√†o c√¢u h·ªèi ƒë∆∞·ª£c highlight ƒë·ªÉ xem tooltip ƒë√°p √°n</li>
                <li>S·ª≠ d·ª•ng n√∫t "üßπ X√≥a highlights" ƒë·ªÉ x√≥a t·∫•t c·∫£ highlight</li>
            </ul>
        </div>
        
        <div style="margin-top: 30px; padding: 20px; background: #e7f3ff; border-radius: 5px;">
            <h3>üîß Debug Information:</h3>
            <p><strong>URL:</strong> <span id="currentUrl"></span></p>
            <p><strong>Th·ªùi gian:</strong> <span id="currentTime"></span></p>
            <p><strong>User Agent:</strong> <span id="userAgent"></span></p>
            
            <div style="margin-top: 15px;">
                <button id="testHighlightBtn" style="
                    background: #28a745;
                    color: white;
                    border: none;
                    padding: 10px 20px;
                    border-radius: 5px;
                    cursor: pointer;
                    margin-right: 10px;
                ">
                    üß™ Test Manual Highlight
                </button>
                
                <button id="clearHighlightBtn" style="
                    background: #dc3545;
                    color: white;
                    border: none;
                    padding: 10px 20px;
                    border-radius: 5px;
                    cursor: pointer;
                ">
                    üßπ Clear All Highlights
                </button>
            </div>
            
            <div id="testResults" style="
                margin-top: 15px;
                padding: 10px;
                background: #f8f9fa;
                border-radius: 5px;
                font-family: monospace;
                font-size: 12px;
                min-height: 100px;
                border: 1px solid #ddd;
            "></div>
        </div>
    </div>
    
    <script>
        // Fill in debug information
        document.getElementById('currentUrl').textContent = window.location.href;
        document.getElementById('currentTime').textContent = new Date().toLocaleString('vi-VN');
        document.getElementById('userAgent').textContent = navigator.userAgent;
        
        // Log page ready for extension
        console.log('Test questions page loaded for Tailieu Extension testing');
        
        // Add some test data to window for debugging
        window.tailieu_test_data = {
            questionsOnPage: document.querySelectorAll('.question').length,
            pageType: 'test-questions-page',
            testQuestions: [
                'Kinh t·∫ø vi m√¥',
                'Nguy√™n l√Ω k·∫ø to√°n',
                'Nguy√™n t·∫Øc c∆° b·∫£n c·ªßa k·∫ø to√°n bao g·ªìm?',
                'B√°o c√°o t√†i ch√≠nh ch√≠nh g·ªìm nh·ªØng lo·∫°i n√†o?',
                'Ph∆∞∆°ng ph√°p kh·∫•u hao t√†i s·∫£n c·ªë ƒë·ªãnh c√≥ m·∫•y lo·∫°i?'
            ]
        };
        
        // Test highlight functions
        document.getElementById('testHighlightBtn').addEventListener('click', function() {
            const testResults = document.getElementById('testResults');
            testResults.innerHTML = 'Testing manual highlight...<br>';
            
            // Simulate extension questions data
            const mockQuestions = [
                { question: 'Kinh t·∫ø vi m√¥', answer: 'Kinh t·∫ø vi m√¥' },
                { question: 'Nguy√™n l√Ω k·∫ø to√°n', answer: 'Nguy√™n l√Ω k·∫ø to√°n' }
            ];
            
            // Test manual highlighting
            const questions = document.querySelectorAll('.question-text');
            questions.forEach((questionEl, index) => {
                const questionText = questionEl.textContent.trim();
                testResults.innerHTML += `Found question: ${questionText}<br>`;
                
                // Find matching mock question
                const match = mockQuestions.find(q => 
                    questionText.toLowerCase().includes(q.question.toLowerCase()) ||
                    q.question.toLowerCase().includes(questionText.toLowerCase())
                );
                
                if (match) {
                    testResults.innerHTML += `‚úÖ Match found: ${match.question} -> ${match.answer}<br>`;
                    
                    // Highlight question
                    questionEl.style.cssText += `
                        background: linear-gradient(135deg, #ffd700, #ffed4e) !important;
                        border: 2px solid #ff6b35 !important;
                        border-radius: 5px !important;
                        padding: 8px !important;
                        margin: 5px 0 !important;
                    `;
                    
                    // Find and highlight answer
                    const questionContainer = questionEl.closest('.question');
                    if (questionContainer) {
                        const answerOptions = questionContainer.querySelectorAll('.answer-option');
                        answerOptions.forEach(option => {
                            const optionText = option.textContent.trim().toLowerCase();
                            const cleanAnswer = match.answer.toLowerCase().trim();
                            
                            if (optionText.includes(cleanAnswer) || cleanAnswer.includes(optionText.replace(/^[A-D][\.\)]\s*/i, '').trim())) {
                                testResults.innerHTML += `üéØ Highlighting answer: ${option.textContent}<br>`;
                                option.style.cssText += `
                                    background: linear-gradient(135deg, #4CAF50, #45a049) !important;
                                    color: white !important;
                                    font-weight: bold !important;
                                    border-radius: 8px !important;
                                    padding: 8px 12px !important;
                                    border: 3px solid #2e7d32 !important;
                                `;
                                
                                // Add checkmark
                                if (!option.querySelector('.test-checkmark')) {
                                    const checkmark = document.createElement('span');
                                    checkmark.className = 'test-checkmark';
                                    checkmark.innerHTML = ' ‚úÖ';
                                    option.appendChild(checkmark);
                                }
                            }
                        });
                    }
                } else {
                    testResults.innerHTML += `‚ùå No match found for: ${questionText}<br>`;
                }
            });
        });
        
        document.getElementById('clearHighlightBtn').addEventListener('click', function() {
            // Clear all highlights
            document.querySelectorAll('.question-text, .answer-option').forEach(el => {
                el.style.background = '';
                el.style.border = '';
                el.style.borderRadius = '';
                el.style.padding = '';
                el.style.margin = '';
                el.style.color = '';
                el.style.fontWeight = '';
                
                const checkmark = el.querySelector('.test-checkmark');
                if (checkmark) {
                    checkmark.remove();
                }
            });
            
            document.getElementById('testResults').innerHTML = 'Highlights cleared.';
        });
    </script>
</body>
</html>